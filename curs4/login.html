
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">

		<title>MyApp de tip  CRUD: LOGIN</title>
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" >

		<!-- Latest compiled and minified JavaScript -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    </head>
	<body>
		<div class="container">
			<div class="row">
				<form method="post" class="form-horizontal col-md-6 col-md-offset-3">
					<h2> LOGIN MyApp - DEMO</h2>
					 <div class="alert alert-danger display-error" style="display: none">
					 </div>
					<div class="form-group">
						<label for="input1" class="col-sm-2 control-label">Email </label>
						<div class="col-sm-10">
						  <input type="email" name="email"  class="form-control" id="email" placeholder="Adresa de email" required/>
						</div>
					</div>

					<div class="form-group">
						<label for="input2" class="col-sm-2 control-label">Parola</label>
						<div class="col-sm-10">
						  <input type="password" name="parola"  class="form-control" id="parola" required/>
						</div>
					</div>
					<input id="submit" type="submit" class="btn btn-primary col-md-4 col-md-offset-8" value="Login" />
				</form>
			</div>
		</div>
	</body>
	<script type="text/javascript">
		$(document).ready(function() {
		  $('#submit').click(function(e){
              //stop submit the form, we will post it manually.
			e.preventDefault();
			var email = $("#email").val();
			var pass = $("#parola").val();
			$.ajax({
				type: "POST",
				url: "http://localhost/javascript/curs6/post_login.php",
				dataType: "json",
				data: {email:email, parola:pass},
				success : function(data){
					if (data.code == "200"){
						alert("Success: " +data.msg);
					} else {
						alert("Err: " +data.msg);
						$(".display-error").html("<ul>"+data.msg+"</ul>");
						$(".display-error").css("display","block");
					}
				}
			});


		  });
		});
	</script>
</html>